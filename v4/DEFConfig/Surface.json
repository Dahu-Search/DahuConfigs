{
  "DEFSettings":{
    "logLevel":"TRACE",
    "stores":["SurfaceCacheStore","SurfaceMongoStore"]
  },
  "pluginSettings": {
      "Dahu Demo": {
        "server": "http://localhost:8983/solr",
        "collection": "aodocs_index",
        "GoogleServiceAccountJsonFile": "service.json",
        "GoogleServiceAccountAdminUser": "chris@dahu.co.uk",
        "securityField": "ao_permission_ss",
        "boostFields" : "title_t^3 subject_aod_t^2 author_combined_t^2 to_aod_t^2 from_aod_t^2 _text_",
        "snippets": "true",
        "suggest": {
          "suggestTypes": ["terms"]
        },
        "export": {
          "excludedFields": ["id","permission","folder"]
        },
        "sort": {
          "rel": {
            "label": "Most Relevant",
            "sortSpec":"score desc"
          },
          "dateDesc": {
            "label": "Date (newest first)",
            "sortSpec":"last_modified desc"
          },
          "dateAsc": {
            "label": "Date (oldest first)",
            "sortSpec":"last_modified asc"
          }
        },
        "filters": {
          "groups":{
            "group1": {
              "order": 1,
              "label": "Content type"
            },
            "group2": {
              "order": 2,
              "label": "Meta-data values"
            },
            "group3": {
              "order": 3,
              "label": "Dates"
            },
            "group4": {
              "order": 4,
              "label": "Folders"
            }
          },
          "filters": {
            "email": {
              "group": "group1",
              "label": "Exclude emails",
              "mode": "switch",
              "query": "NOT classname_s:Correspondence"
            },
            "title": {
              "group": "group2",
              "label": "Title contains...",
              "mode": "field",
              "queryPrefix": "title_t"
            },
            "author": {
              "group": "group2",
              "label": "Author contains...",
              "mode": "field",
              "queryPrefix": "author_combined_t"
            },
            "keywords": {
              "group": "group2",
              "label": "Keywords contains...",
              "mode": "field",
              "queryPrefix": "keywords_aod_t"
            },
            "subject": {
              "group": "group2",
              "label": "Subject contains...",
              "mode": "field",
              "queryPrefix": "subject_aod_t"
            },
            "folder": {
              "group": "group4",
              "label": "Folder",
              "mode": "facet",
              "facet": "folder",
              "queryPrefix": "_hier_folderpath"
            },
            "lmdate": {
              "group": "group3",
              "label": "Modified date",
              "mode": "dateRange",
              "queryPrefix": "last_modified"
            },
            "type": {
              "group": "group2",
              "label": "Doc Type",
              "mode": "pullDown",
              "queryPrefix": "mime_s",
              "values":{
                "pdf": {
                  "label": "pdf",
                  "value": "application/pdf"
                },
                "Word": {
                  "label": "MS-Word",
                  "value": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                },
                "zip": {
                  "label": "Zip files",
                  "value": "application/zip"
                }
              }
            }
          }
        },

        "facets": {
          "folder": {
            "label": "Folders",
            "mode": "hierarchical",
            "display": "standard",
            "order": "1",
            "cached": "true",
            "cacheTimeout": "30000",
            "solrConfig": {
              "type": "terms",
              "field": "_hier_folderpath",
              "limit": -1
            }
          },
          "keywords": {
            "label": "Keywords",
            "order": "2",
            "display": "standard",
            "solrConfig": {
              "field": "keywords_aod_ss"
            }
          },
          "project": {
            "label": "Project",
            "order": "3",
            "display": "standard",
            "solrConfig": {
              "field": "project_aod_ss"
            }
          },

          "docType": {
            "label": "Document Type",
            "order": "4",
            "display": "standard",
            "solrConfig": {
              "field": "document_type_aod_ss"
            }
          },
          "mime": {
            "label": "File type",
            "order": "5",
            "display": "histogram",
            "solrConfig": {
              "field": "displaymime_s"
            }
          },

          "to": {
            "label": "To",
            "order": "6",
            "display": "standard",
            "solrConfig": {
              "field": "to_aod_s"
            }
          },
          "from": {
            "label": "From",
            "order": "7",
            "display": "standard",
            "solrConfig": {
              "field": "from_aod_s"
            }
          },

          "class": {
            "label": "Class",
            "order": "8",
            "display": "histogram",
            "solrConfig": {
              "field": "classname_s"
            }
          },
          "owner": {
            "label": "Author",
            "mode": "multiSelect",
            "display": "standard",
            "order": "9",
            "cached": "true",
            "solrConfig": {
              "type": "terms",
              "field": "author_combined_ss"
            }
          }
        },
        "fields": {
          "id": {
            "fieldName": "id"
          },
          "title": {
            "fieldName": "title_t"
          },
          "url": {
            "fieldName": "url_s"
          },
          "thumbnail": {
            "fieldName": "iconurl_s"
          },
          "type": {
            "fieldName": "displaymime_s"
          },
          "comments": {
            "fieldName": "comments_t"
          },

          "metaFields": [
            {
              "date": {
                "label": "Date",
                "fieldNames": ["last_modified"],
                "transform": "dateDisplay",
                "transformFormat": "dd MMMM yyyy"
              }
            },
            {
              "subject": {
                "label": "Subject",
                "fieldNames": ["subject_aod_s"]
              }
            },
            {
              "Size": {
                "fieldNames": ["size_l","size_ww"],
                "transform": "sizeDisplay"
              }
            },
            {
              "Author": {
                "facet" : "author",
                "fieldNames": "author_combined_ss"
              }
            },
            {
              "To": {
                "facet" : "to",
                "fieldNames": "to_aod_s"
              }
            },
            {
              "aodocstype": {
                "facet" : "from",
                "label": "AODOCS type",
                "fieldNames": "document_type_aod_ss"
              }
            },
            {
              "From": {
                "facet" : "from",
                "fieldNames": "from_aod_s"
              }
            }
          ],
          "subMetaFields": [
            {
              "gdrive": {
                "label": "Google Doc download",
                "fieldNames": ["gdriveurl_s"],
                "transform": "urlDisplay"

              }
            },
            {
              "library": {
                "label": "Library",
                "facet": "library",
                "fieldNames": ["libraryname_s"]
              }
            },
            {
              "attachments": {
                "label": "Attachments",
                "fieldNames": ["attachmentname_ss"]
              }
            },
            {
              "type": {
                "label": "Type",
                "facet": "mime",
                "fieldNames": ["displaymime_s"]
              }
            },
            {
              "project": {
                "fieldNames": ["project_aod_ss"]
              }
            },
            {
              "filepath": {
                "fieldNames": ["filepath_t"]
              }
            },
            {
              "keywords": {
                "fieldNames": ["keywords_aod_t"]
              }
            }
          ],
          "additionalMetaFields": [
            {
              "version": {
                "label": "Version",
                "fieldNames": ["versiondescription_t"]
              }
            },
            {
              "folder": {
                "label": "Folder",
                "fieldNames": ["_hier_folderpath"]
              }
            },
            {
              "libraryid": {
                "label": "LibraryId",
                "fieldNames": ["libraryid_s"]
              }
            },
            {
              "domain": {
                "label": "Domain",
                "fieldNames": ["domain_s"]
              }
            }
          ]
        }
      },
  
    "Dahu Search": {
      "server": "http://localhost:8983/solr",
      "collection": "aodocs_index",
      "GoogleServiceAccountJsonFile": "service.json",
      "GoogleServiceAccountAdminUser": "chris@dahu.co.uk",
      "securityField": "ao_permission_ss",
      "boostFields" : "title_t^3 subject_aod_t^2 author_combined_t^2 to_aod_t^2 from_aod_t^2 _text_",
      "snippets": "true",
      "suggest": {
        "suggestTypes": ["terms"]
      },
      "export": {
        "excludedFields": ["id","permission","folder"]
      },
      "sort": {
        "rel": {
          "label": "Most Relevant",
          "sortSpec":"score desc"
        },
        "dateDesc": {
          "label": "Date (newest first)",
          "sortSpec":"last_modified desc"
        },
        "dateAsc": {
          "label": "Date (oldest first)",
          "sortSpec":"last_modified asc"
        }
      },
      "filters": {
        "groups":{
          "group1": {
            "order": 1,
            "label": "Content type"
          },
          "group2": {
            "order": 2,
            "label": "Meta-data values"
          },
          "group3": {
            "order": 3,
            "label": "Dates"
          },
          "group4": {
            "order": 4,
            "label": "Folders"
          }
        },
        "filters": {
          "acts": {
            "group": "group1",
            "label": "Exclude Acts",
            "mode": "switch",
            "query": "NOT classname_s:Act"
          },
          "email": {
            "group": "group1",
            "label": "Exclude emails",
            "mode": "switch",
            "query": "NOT classname_s:Correspondence"
          },
          "title": {
            "group": "group2",
            "label": "Title contains...",
            "mode": "field",
            "queryPrefix": "title_t"
          },
          "author": {
            "group": "group2",
            "label": "Author contains...",
            "mode": "field",
            "queryPrefix": "author_combined_t"
          },
          "keywords": {
            "group": "group2",
            "label": "Keywords contains...",
            "mode": "field",
            "queryPrefix": "keywords_aod_t"
          },
          "subject": {
            "group": "group2",
            "label": "Subject contains...",
            "mode": "field",
            "queryPrefix": "subject_aod_t"
          },
          "folder": {
            "group": "group4",
            "label": "Folder",
            "mode": "facet",
            "facet": "folder",
            "queryPrefix": "_hier_folderpath"
          },
          "lmdate": {
            "group": "group3",
            "label": "Modified date",
            "mode": "dateRange",
            "queryPrefix": "last_modified"
          },
          "type": {
            "group": "group2",
            "label": "Doc Type",
            "mode": "pullDown",
            "queryPrefix": "mime_s",
            "values":{
              "pdf": {
                "label": "pdf",
                "value": "application/pdf"
              },
              "Word": {
                "label": "MS-Word",
                "value": "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
              },
              "zip": {
                "label": "Zip files",
                "value": "application/zip"
              }
            }
          }
        }
      },

      "facets": {
        "folder": {
          "label": "Folders",
          "mode": "hierarchical",
          "display": "standard",
          "order": "1",
          "cached": "true",
          "cacheTimeout": "30000",
          "solrConfig": {
            "type": "terms",
            "field": "_hier_folderpath",
            "limit": -1
          }
        },
        "keywords": {
          "label": "Keywords",
          "order": "2",
          "display": "standard",
          "solrConfig": {
            "field": "keywords_aod_ss"
          }
        },
        "project": {
          "label": "Project",
          "order": "3",
          "display": "standard",
          "solrConfig": {
            "field": "project_aod_ss"
          }
        },

        "docType": {
          "label": "Document Type",
          "order": "4",
          "display": "standard",
          "solrConfig": {
            "field": "document_type_aod_ss"
          }
        },
        "mime": {
          "label": "File type",
          "order": "5",
          "display": "histogram",
          "solrConfig": {
            "field": "displaymime_s"
          }
        },

        "to": {
          "label": "To",
          "order": "6",
          "display": "standard",
          "solrConfig": {
            "field": "to_aod_s"
          }
        },
        "from": {
          "label": "From",
          "order": "7",
          "display": "standard",
          "solrConfig": {
            "field": "from_aod_s"
          }
        },

        "class": {
          "label": "Class",
          "order": "8",
          "display": "histogram",
          "solrConfig": {
            "field": "classname_s"
          }
        },
        "owner": {
          "label": "Author",
          "mode": "multiSelect",
          "display": "standard",
          "order": "9",
          "cached": "true",
          "solrConfig": {
            "type": "terms",
            "field": "author_combined_ss"
          }
        }
      },
      "fields": {
        "id": {
          "fieldName": "id"
        },
        "title": {
          "fieldName": "title_t"
        },
        "url": {
          "fieldName": "url_s"
        },
        "thumbnail": {
          "fieldName": "iconurl_s"
        },
        "type": {
          "fieldName": "displaymime_s"
        },
        "comments": {
          "fieldName": "comments_t"
        },

        "metaFields": [
          {
            "date": {
              "label": "Date",
              "fieldNames": ["last_modified"],
              "transform": "dateDisplay",
              "transformFormat": "dd MMMM yyyy"
            }
          },
          {
            "subject": {
              "label": "Subject",
              "fieldNames": ["subject_aod_s"]
            }
          },
          {
            "Size": {
              "fieldNames": ["size_l","size_ww"],
              "transform": "sizeDisplay"
            }
          },
          {
            "Author": {
              "facet" : "author",
              "fieldNames": "author_combined_ss"
            }
          },
          {
            "To": {
              "facet" : "to",
              "fieldNames": "to_aod_s"
            }
          },
          {
            "aodocstype": {
              "facet" : "from",
              "label": "AODOCS type",
              "fieldNames": "document_type_aod_ss"
            }
          },
          {
            "From": {
              "facet" : "from",
              "fieldNames": "from_aod_s"
            }
          }
        ],
        "subMetaFields": [
          {
            "gdrive": {
              "label": "Google Doc download",
              "fieldNames": ["gdriveurl_s"],
              "transform": "urlDisplay"

            }
          },
          {
            "library": {
              "label": "Library",
              "facet": "library",
              "fieldNames": ["libraryname_s"]
            }
          },
          {
            "attachments": {
              "label": "Attachments",
              "fieldNames": ["attachmentname_ss"]
            }
          },
          {
            "type": {
              "label": "Type",
              "facet": "mime",
              "fieldNames": ["displaymime_s"]
            }
          },
          {
            "project": {
              "fieldNames": ["project_aod_ss"]
            }
          },
          {
            "filepath": {
              "fieldNames": ["filepath_t"]
            }
          },
          {
            "keywords": {
              "fieldNames": ["keywords_aod_t"]
            }
          }
        ],
        "additionalMetaFields": [
          {
            "permission": {
              "label": "Permissions",
              "fieldNames": ["ao_permission_s"]
            }
          },
          {
            "version": {
              "label": "Version",
              "fieldNames": ["versiondescription_t"]
            }
          },
          {
            "folder": {
              "label": "Folder",
              "fieldNames": ["_hier_folderpath"]
            }
          },
          {
            "libraryid": {
              "label": "LibraryId",
              "fieldNames": ["libraryid_s"]
            }
          },
          {
            "domain": {
              "label": "Domain",
              "fieldNames": ["domain_s"]
            }
          }
        ]
      }
    }
  }
}
